{"version":3,"sources":["webpack:///./src/constant.js","webpack:///./src/d3-components/bipartite.js","webpack:///./src/components/vis/company-info.js","webpack:///./src/d3-components/circle-blob.js","webpack:///./src/components/vis/comparny-distribution.js","webpack:///./src/d3-components/barchart.js","webpack:///./src/components/vis/method-ranking.js","webpack:///./src/d3-components/barchart-2layer.js","webpack:///./src/components/vis/company-ranking.js","webpack:///./src/components/vis/autority-ranking.js","webpack:///./src/pages/index.js"],"names":["labelConstant","one","budget","region","totalProjects","moral","doCivilProjects","globalConfig","references","mainVizPageNo","highligthColors","vizAtPage","pageTitles","purchaseMethods","name","BipartiteGraph","_ref","layoutData","width","height","margin","node","document","createElement","svg","d3","append","attr","flows","sources","targets","nodes","concat","container","eventSlug","p","source","target","pathContainer","style","on","selectAll","transition","data","enter","d","path","thickness","dispatch","detail","x","y","html","utils","moneyFormat","value","this","nodeWidth","text","m","key","match","maxX","Math","max","apply","map","n","RD3Component","rd3","Component","companies","companyProjectProfiles","filter","c","corporate_name","dairyCompanyFilter","CompanyInfo","_css2","_css3","_css4","_css5","_useState","useState","pickRandomly","orgProfile","setOrgProfile","_useState2","d3Dom","setd3Dom","windowWidthHeight","getWindowWidthHeight","scalingFactor","isMobile","layout","bipartite","padding","useEffect","projectInsights","Object","assign","bd","core_browser_esm","id","css","company_info_ref","css_browser_esm","textAlign","media","DESKTOP_MIN_WIDTH","marginBottom","onClick","_ref2","textDecoration","display","tin","color","href","rel","marginLeft","_ref3","CircleBlob","maxSize","size","minSize","colorScale","domain","range","bubbleSizeScaler","xCenter","f","yCenter","lastKey","i","radius","tooltip","simulation","findColor","highlightKey","a","k","selectedProjects","methodStats","count","draw","u","select","numFormatInt","round","pageX","pageY","merge","exit","remove","centers","_","setLabels","cleanUp","stop","doSimulate","_ref$restart","restart","alpha","force","strength","category","setCircleHighlight","regionLookup","array2lookup","filterOptions","desc","CompanyDistribution","highlightCategory","setHighlightCategory","budgetM","obj","comparny_distribution_ref","border","background","onChange","e","comparny_distribution_RD3Component","BarChart","filterRx","getWidth","length","clsName","selector","chart_margin","xScale","yScale","label","calculateOpacity","bandwidth","delay","duration","numFormatFloat","replace","reset","sortAttribute","totalProjectValue","sortedMethods","methodProfiles","sort","b","reverse","totalProjectValueInMillion","MethodRanking","valueKey","setValueKey","viz","setViz","purchase_method_name","marginTop","fontSize","method_ranking_RD3Component","BarChart2Layer","value2","sortedCompany","CompanyRanking","filterDairyCompanies","setFilterDairyComparies","_useState3","ak","normalizer","slice","fontWeight","float","console","log","type","defaultChecked","company_ranking_RD3Component","authorityProfiles","AuthorityRanking","dept_name","province","autority_ranking_RD3Component","require","Index","pages_ref","seo","title","textbox","pages_ref2","variables","pages_ref3","join","_ref4","remark","section1","section2","src","section3","method_ranking","section5","section6","autority_ranking","section7","company_ranking","section8","section82","comparny_distribution","sectonCompanyProfile","company_info","sectionConclusion","external_link","url","gatsby_browser_entry","_ref5","to","_ref6","credit"],"mappings":"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","file":"component---src-pages-index-js-9e93229e7907ad8f33d4.js","sourcesContent":["const labelConstant = {\n    one: [\"ภาพรวมทั้งประเทศ\"],\n    budget: [\n        \"฿200M ขึ้นไป\",\n        \"฿100M-200M\",\n        \"฿50M-100M\",\n        \"฿20M-50M\",\n    ],\n    region: [\n        \"เหนือ\",\n        \"ตะวันตก\",\n        \"ตะวันออกเฉียงเหนือ\",\n        \"ตะวันออก\",\n        \"กลาง\",\n        \"ใต้\"\n    ],\n    totalProjects: [\n        \"มากกว่า 20\",\n        \"10-20\",\n        \"5-10\",\n        \"1-5 โครงการ\",\n    ],\n    moral: [\n        \"มากกว่า 30%\",\n        \"\",\n    ],\n    doCivilProjects: [\n        \"รับโครงการด้านโยธา\",\n        \"\"\n    ]\n}\n\nconst db = {\n    url: \"/data.json\",\n    companyProfile: (tin) => `/company-profiles/${tin}.json`\n}\n\nconst globalConfig = {\n    references: [],\n    mainVizPageNo: 6,\n    highligthColors: [\n        \"#eee\",\n        \"red\"\n    ],\n    vizAtPage: [\n        \"none\",\n        \"none\",\n        \"none\",\n        \"none\",\n        \"none\",\n        \"none\",\n        \"circleBlob\",\n        \"circleBlob\",\n        \"circleBlob\",\n        \"none\",\n    ],\n    pageTitles: [\n        \"ขุมทรัพย์อปท. 7 แสนล้านบาท\",\n        \"สัดส่วนโครงการโยธา\",\n        \"มูลค่าการจัดซื้อ-จัดจ้าง\",\n        \"ที่มาเงินทอน\",\n        \"สัดส่วนรายได้ของ อปท.\",\n        \"คอนกรีต - ลูกรัง ซ่อมสร้างไม่รู้จบ\",\n        \"บริษัทที่มีขีดความสามารถในการได้งานอปท.\",\n        \"นิยามโยธา\",\n        \"คลิกดูรายภาคและรายบริษัท\",\n        \"ผู้จัดทำ\",\n    ],\n    purchaseMethods: [\n        {\n            name: 'เฉพาะเจาะจง',\n        },\n        {\n            name: 'ประกวดราคาอิเล็กทรอนิกส์ (e-bidding)',\n        },\n        {\n            name: 'ประกวดราคาด้วยวิธีการทางอิเล็กทรอนิกส์',\n        },\n        {\n            name: 'พิเศษ',\n        },\n        {\n            name: 'คัดเลือก',\n        },\n        {\n            name: 'สอบราคา',\n        },\n        {\n            name: 'จ้างที่ปรึกษาโดยวิธีคัดเลือก',\n        },\n        {\n            name: 'จ้างที่ปรึกษาโดยวิธีประกาศเชิญชวนทั่วไป',\n        },\n        {\n            name: 'จ้างที่ปรึกษาโดยวิธีเฉพาะเจาะจง',\n        },\n        {\n            name: 'ตกลงราคา',\n        },\n        {\n            name: 'ประกวดราคา',\n        },\n        {\n            name: 'กรณีพิเศษ',\n        },\n\n    ],\n}\n\nconst statistics = {\n    \"part1\": {\n        \"totalGovBudget\": 720822 * 1e6,\n        \"totalProjects\": 92137,\n        \"totalValue\": 32768 * 1e6,\n        \"totalCivilProjectValue\": 21252 * 1e6,\n        \"totalCivilProjects\": 30634,\n        \"totalOrgs\": 33225,\n    },\n    \"part4\": {\n        \"budgetPortions\": [\n            {\n                \"name\": \"รายได้ที่ อปท. จัดหาเอง\",\n                \"amount\": 112000\n            },\n            {\n                \"name\": \"รายได้ที่รัฐบาลเก็บให้และแบ่งให้\",\n                \"amount\": 229900 \n            },\n            {\n                \"name\": \"ภาษีมูลค่าเพิ่มที่รัฐบาลแบ่งให้  (ตาม พ.ร.บ. กำหนดแผนฯ)\",\n                \"amount\": 115000 \n            },\n            {\n                \"name\": \"เงินอุดหนุน\",\n                \"amount\": 263922 \n            },\n        ]\n    }\n}\n\nexport {labelConstant, db, globalConfig, statistics}","import * as d3 from 'd3'\nimport {globalConfig} from \"../constant\"\nimport utils from \"../utils\"\n\nconst BipartiteGraph = ({layoutData, width, height}) => {\n    const margin = {\n        left: 200,\n        right: 150,\n        top: 40,\n        bottom: 20\n    }\n    const node = document.createElement('div');\n    const svg = d3.select(node).append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n\n    const { flows, sources, targets } = layoutData\n    const nodes = [].concat(sources, targets)\n    const nodeWidth = 10\n    const labelFontSize = 10\n    const pathOpacity = 0.3\n\n\n    const container = svg.append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n    \n    // code below taken from https://observablehq.com/@ilyabo/weighted-bipartite-graph\n    // flow lines\n    const eventSlug = (p) => `${p.source}-${p.target}`\n    const pathContainer = container.append('g').attr(\"class\", \"pathContainer\")\n\n    d3.select(\"body\")\n      .append(\"div\")\n      .attr(\"class\", \"textLabel\")\n      .style(\"position\", \"absolute\")\n      .style(\"background\", \"black\")\n      .style(\"color\", \"white\")\n      .style(\"opacity\", 0)\n      .style(\"pointer-events\", \"none\")\n      .style(\"padding\", \"10px\")\n\n    pathContainer.on(\"mouseout\", () => {\n        d3.select(\".pathContainer\")\n          .selectAll(\"path\")\n          .transition()\n          .style(\"opacity\", pathOpacity)\n        d3.select(\"div.textLabel\")\n          .style(\"opacity\", 0)\n      })\n\n    pathContainer.selectAll('path')\n      .data(flows)\n      .enter().append('path')\n        .attr('d', d => d.path)\n        .attr('opacity', pathOpacity)  \n        .style(\"z-index\", 1000)\n        .attr('fill', 'none')  \n        .attr('stroke', globalConfig.highligthColors[1])\n        .attr('stroke-width', d => d.thickness)\n        .on(\"mouseover\", function(d) {\n          d3.selectAll(\"path\").dispatch(\"highlight\", {detail: eventSlug(d)})\n          d3.select(\"div.textLabel\")\n            .style(\"left\", `${d3.event.x}px`)\n            .style(\"top\", `${d3.event.y + 20}px`)\n            .style(\"opacity\", 1)\n            .html(`โครงการแบบ${d.source} ที่ทำร่วมกับอปท.ในจังหวัด${d.target} <br>รวมเป็นมูลค่า ${utils.moneyFormat(d.value)}`)\n        })\n        .on(\"highlight\", function(d) {\n          const slug = d3.event.detail\n          if(slug !== eventSlug(d)) {\n            d3.select(this)\n              .transition()\n              .style(\"opacity\", 0.1)\n          } else {\n            d3.select(this)\n              .style(\"z-index\", 10)\n              .transition()\n              .style(\"opacity\", 0.5)\n          }\n        })\n\n    // node rectangles\n    container.append('g')\n      .selectAll('rect')\n      .data(nodes)\n      .enter().append('rect')\n        .attr('x', d => d.x - nodeWidth/2)\n        .attr('y', d => d.y)\n        .attr('width', nodeWidth)\n        .attr('height', d => d.height)\n        .attr('fill', globalConfig.highligthColors[1])\n        .attr('stroke', 'none');\n\n    // source labels\n    container.append('g')\n      .selectAll('text')\n      .data(sources)\n      .enter().append('text')\n        .attr('x', -nodeWidth)\n        .attr('y', d => d.y + d.height/2)\n          .attr('font-size', labelFontSize)\n          .attr('alignment-baseline', 'middle')\n          .attr('text-anchor', 'end')\n          .text(d => {\n            const m = d.key.match(/\\((.+)\\)/)\n            const slug = m ? m[1] : d.key\n            return slug\n          });\n\n    // source value\n    container.append('g')\n      .selectAll('text')\n      .data(sources)\n      .enter().append('text')\n        .attr('x', -nodeWidth)\n        .attr('y', d => d.y + d.height/2 + labelFontSize)\n        .attr('font-size', labelFontSize)\n        .attr('alignment-baseline', 'middle')\n        .attr('text-anchor', 'end')\n        .text(d => `(${utils.moneyFormat(d.value)})`)\n\n    const maxX = Math.max(...targets.map(n => n.x))\n\n    // target labels\n    container.append('g')\n      .selectAll('text')\n      .data(targets)\n      .enter().append('text')\n        .attr('x', maxX + nodeWidth)\n        .attr('y', d => d.y + d.height/2)\n          .attr('font-size', 10)\n          .attr('alignment-baseline', 'middle')\n          .attr('text-anchor', 'start')\n          .text(d => `${d.key} (${utils.moneyFormat(d.value)})`)\n\n    return node;\n}\n\nexport default BipartiteGraph","import React, {useState, useEffect} from \"react\"\nimport rd3 from 'react-d3-library'\n\nimport bipartite from \"d3-bipartite\"\nimport BipartiteGraph from \"../../d3-components/bipartite\"\nimport { DESKTOP_MIN_WIDTH, media } from \"../../shared/style\"\n\nimport companyProjectProfiles from \"../../data/company_stats\"\nimport { dairyCompanyFilter } from \"../../shared/variables\"\n\nimport utils from \"../../utils\"\n\nconst RD3Component = rd3.Component;\n\n\nconst companies = companyProjectProfiles\n  .filter(c => !c.corporate_name.match(dairyCompanyFilter))\n\nconst CompanyInfo = () => {\n  const [orgProfile, setOrgProfile] = useState(utils.pickRandomly(companies))\n\n  const [d3Dom, setd3Dom] = useState()\n\n  const padding = 10\n\n  const windowWidthHeight = utils.getWindowWidthHeight()\n  const scalingFactor = (utils.isMobile() ? 0.3 : 0.5)\n  const width = windowWidthHeight.width * scalingFactor\n  const height = 300\n\n  const layout = bipartite() \n    .width(width)\n    .height(height)\n    .padding(padding)\n    .source(d => d.source)\n    .target(d => d.target)\n    .value(d => d.value)\n\n  useEffect(() => {\n    const data = orgProfile.projectInsights\n      .map( d => {\n        return {\n          ...d,\n          value: d.value / 1e6\n        }\n      })\n    \n    const layoutData = layout(data)\n    const bd = BipartiteGraph({\n      layoutData, width, height\n    })\n\n    setd3Dom(bd)\n  }, [orgProfile]);\n\n  return (\n      <div id=\"company-info\"\n        css={{\n          position: \"relative\"\n        }}\n      >\n        <div css={{\n          textAlign: \"center\",\n          [media(DESKTOP_MIN_WIDTH)]: {\n            textAlign: \"left\"\n          }\n        }}>\n          <div css={{\n            width: \"100%\",\n            marginBottom: \"10px\",\n            textAlign: \"center\",\n            [media(DESKTOP_MIN_WIDTH)]: {\n              textAlign: \"right\",\n            }\n          }} onClick={() =>{ setOrgProfile(utils.pickRandomly(companies)) }}>\n            <div css={{\n              padding: \"5px\",\n              border: \"1px solid\",\n              cursor: \"pointer\",\n              display: \"inline-block\",\n            }}>\n              สุ่มเลือกบริษัทอื่น\n            </div>\n          </div>\n          <div>\n            รายละเอียดการรับโครงการของ {` `}\n            <span css={{\n              textDecoration: \"underline\",\n              display: \"block\",\n              [media(DESKTOP_MIN_WIDTH)]: {\n                display: \"inline\"\n              }\n            }}>\n              { orgProfile.tin &&\n                <a style={{color: \"black\", textDecoration: \"none\"}}\n                  href={`https://datawarehouse.dbd.go.th/company/profile/${orgProfile.tin[3]}/${orgProfile.tin}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {orgProfile.corporate_name}\n                </a>\n              }\n            </span>\n          </div>\n        </div>\n        <div\n          css={{\n            marginLeft: `-${width}px`,\n            [media(DESKTOP_MIN_WIDTH)]: {\n              marginLeft: 0\n            }\n          }}\n        >\n          <RD3Component data={d3Dom}/>\n        </div>\n\n        <div css={{textAlign: \"center\"}}>\n          { orgProfile.tin && <div style={{textDecoration: \"underline\", textAlign: \"center\"}}>\n            <a style={{color: \"black\", textDecoration: \"none\"}}\n               href={`https://govspending.data.go.th/budget?winner=${orgProfile.tin}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                ดูโครงการทั้งหมดจาก ภาษีไปไหน?\n            </a>\n            </div>\n          }\n        </div>\n      </div>\n  )\n}\n\nexport default CompanyInfo","import * as d3 from \"d3\"\nimport {labelConstant, globalConfig} from \"../constant\"\nimport utils from \"../utils\"\n\nconst CircleBlob = (data) => {\n    const clsName = \"circleBlob\"\n    const selector = `svg.${clsName}`\n\n    const maxSize = d3.max(data, d => d.size)\n    const minSize = d3.min(data, d => d.size) \n\n\n    const colorScale = d3.scaleLinear()\n        .domain([0, 1])\n        .range(globalConfig.highligthColors)\n\n    const bubbleSizeScaler = d3.scaleLinear()\n        .domain([minSize, maxSize])\n        .range(utils.isMobile() ? [2.5, 20] : [2.5, 30])\n\n    const node = document.createElement('div');\n\n    const width = utils.isMobile() ? utils.getWindowWidthHeight().width * 0.8 : 896\n    const height = 400\n\n    const scalingFactor = utils.isMobile() ?\n        [ 0.9, 0.5, 0.1, 0.9, 0.5, 0.1] : [0.8, 0.5, 0.2, 0.8, 0.5, 0.2]\n    \n    const xCenter = {\n        one: [width*0.5],\n        region: scalingFactor.map(f => width * f),\n        doCivilProjects: [width*0.7, width*0.2],\n    }\n\n    const yCenter = {\n        region: [0.7, 0.7, 0.7, 0.3, 0.3, 0.3].map(f => height * f),\n    }\n\n    const svg = d3.select(node)\n        .append(\"svg\")\n        .attr(\"class\", clsName)\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n\n    svg.append(\"g\").attr(\"class\", \"main-panel\")\n\n    const nodes = data.map( (d, i) => {\n        return {\n            ...d,\n            radius: bubbleSizeScaler(d.size),\n        }\n    });\n\n    const tooltip = d3.select(\"body\").append(\"div\")\t\n        .attr(\"class\", \"tooltip\")\t\t\t\t\n        .style(\"opacity\", 0.0)\n        .style(\"background\", \"black\")\n        .style(\"color\", \"white\")\n        .style(\"position\", \"absolute\")\n        .style(\"padding\", \"10px\")\n\n    const simulation = d3.forceSimulation(nodes)\n    const cleanUp = () => {\n        tooltip.remove()\n        simulation.stop()\n    }\n\n\n    const getKey = (a, k) => {\n        if(!a.methodStats[k]){\n          return 0\n        } else{\n          return a.methodStats[k].count\n        }\n      }\n\n    const findColor = (highlightKey, d) => {\n        const selectedProjects = getKey(d, highlightKey.name)\n\n        return colorScale(selectedProjects / d.totalProjects)\n    }\n\n    const setLabels = (key) => {\n        const centers = xCenter[key].map((d, i) => {\n            return {\n                x: d,\n                y: yCenter[key][i] + 70\n            }\n        })\n\n        const u = d3.select(selector)\n            .selectAll(\"text.label\")\n            .data(centers, d => d)\n\n            u.enter()\n                .append(\"text\")\n                .attr(\"class\", \"label\")\n                .style(\"text-anchor\", \"middle\")\n                .merge(u)\n                .attr(\"x\", d => d.x)\n                .attr(\"y\", d => d.y)\n                .style(\"font-size\", utils.isMobile() ? \"10px\": \"14px\")\n                .text((_, i) => labelConstant[key][i])\n\n            u.exit().remove()\n    }\n\n\n    const draw = (key, highlightKey) => {\n        const u = d3.select(selector).select(\"g\") \n            .selectAll('circle')\n            .data(nodes)\n\n        u.enter() \n            .append('circle')\n            .attr(\"class\", \"org\")\n            .attr('r', (d) => d.radius)\n            .style(\"pointer-events\", \"all\")\n            // .style('cursor', 'pointer')\n            .attr(\"fill\", (d) => findColor(highlightKey, d))\n            // .on(\"click\", d => { \n            //     window.open(`/org?tin=${d.tin}`, \"_blank\")\n            // })\n            .on(\"mouseover\", (d) => {\n                d3.select(\"body\").select(\"div.tooltip\")\n                    .html(`\n                    ${d.corporate_name}<br/>\n                    ได้รับงานอปท.ทั้งหมด ${d.totalProjects} โครงการ\n                    รวมมูลค่าทั้งสิ้น ${ utils.numFormatInt(Math.round(d.size)) } ล้านบาท\n                    `\n                    )\n                    .style(\"z-index\", 1000)\n                    .style(\"left\", (d3.event.pageX + 20) + \"px\")\n                    .style(\"top\", (d3.event.pageY - 28) + \"px\")\n                    .transition()\n                    .style(\"opacity\", 0.8)\n                    .style(\"display\", \"block\")\n            })\n            .on(\"mouseleave\", () => {\n                d3.select(\"body\").select(\"div.tooltip\")\n                    .transition()\n                    .style(\"opacity\", 0)\n                    .style(\"display\", \"none\")\n            })\n            .merge(u)\n            .attr('cx', d => d.x)\n            .attr('cy', d => d.y)\n\n        u.exit().remove();\n\n        setLabels(key)\n    }\n\n    let lastKey\n\n    const doSimulate = ({key, restart=false, highlightKey}) => {\n        if(lastKey !== key || restart){\n            simulation.alpha(0.8).restart()\n        }\n\n        simulation.force('charge', d3.forceManyBody().strength(1.5))\n            .force('x', d3.forceX().x(d => xCenter[key][d.category[key]]))\n            .force('y', d3.forceY().y(d => yCenter[key][d.category[key]]))\n            .force('collision', d3.forceCollide().radius(d => d.radius))\n            .on('tick', () => draw(key, highlightKey))\n\n        lastKey = key\n    }\n\n    const setCircleHighlight = (key, highlightKey) => {\n        draw(key, highlightKey)\n\n        d3.select(selector)\n            .selectAll(\"circle\")\n            .transition()\n            .attr(\"fill\", (d) => findColor(highlightKey, d))\n    }\n\n   return {node, cleanUp, doSimulate, setCircleHighlight}\n}\n\nexport default CircleBlob","import React, { useState, useEffect } from 'react'\n\nimport rd3 from 'react-d3-library'\n\nimport companyProjectProfiles from \"../../data/company_stats\"\nimport CircleBlob from '../../d3-components/circle-blob'\n\nimport utils from \"../../utils\"\n\nimport {labelConstant, globalConfig} from \"../../constant\"\n\nconst regionLookup = utils.array2lookup(labelConstant.region)\n\nconst RD3Component = rd3.Component\n\nconst filterOptions = [\n  {\n    desc: \"ภูมิภาคที่ได้รับโครงการส่วนใหญ่\",\n    key: \"region\"\n  },\n]\n\nconst CompanyDistribution = () => {\n    const [d3Dom, setd3Dom] = useState({})\n    const [highlightCategory, setHighlightCategory] = useState(0)\n\n\n    useEffect(() =>{\n        const data = companyProjectProfiles.map( (d, i) => {\n            const budgetM = d['totalProjectValue'] / 1e6\n            return {\n                ...d,\n                size: budgetM,\n                category: {\n                region: regionLookup[d['primaryRegion']],\n                }\n            }\n        })\n\n        const obj = CircleBlob(data)\n\n        setd3Dom(obj)\n    }, [])\n\n    useEffect(() => {\n        if(d3Dom.node){\n            d3Dom.doSimulate({\n                key: filterOptions[0].key,\n                highlightKey: globalConfig.purchaseMethods[highlightCategory]\n            })\n        }\n    }, [d3Dom])\n\n    useEffect(() => {\n        if(d3Dom.node){\n          d3Dom.setCircleHighlight(\n            filterOptions[0].key,\n            globalConfig.purchaseMethods[highlightCategory]\n          )\n        }\n    }, [d3Dom, highlightCategory])\n\n    return <div>\n        <div css={{ textAlign: \"center\", fontSize: \"11px\"}}>\n            เลือกไฮไลท์สีตามสัดส่วนโครงการแบบ {` `}\n            <select\n            style={{\n                border: \"0px\",\n                background: \"#eee\",\n            }}\n            value={highlightCategory}\n            onChange={(e) => {\n                setHighlightCategory(e.target.value)\n            }}\n            >\n            {\n                globalConfig.purchaseMethods.map( (m, i) => {\n                return <option key={i} value={i}>\n                    {m.name}\n                </option>\n                })\n            }\n            </select>\n        </div>\n        <RD3Component data={d3Dom.node}/>\n    </div>\n}\n\nexport default CompanyDistribution","import * as d3 from \"d3\"\nimport {globalConfig} from \"../constant\"\nimport utils from \"../utils\"\n\nconst BarChart = ({name, data, filterRx}) => {\n    const width = utils.getWidth()\n    const height = 35 * data.length\n\n    const clsName = name\n    const selector = `svg.${clsName}`\n\n    const margin = { top: 10, left: 20, bottom: 10, right: 20}\n    const chart_margin = {top: 0, left:5, bottom:10, right: 15}\n\n    const xScale = d3.scaleLinear()\n            .range([0, width-chart_margin.left-chart_margin.right])\n            .domain([0, d3.max(data, (d) => {\n                return d.value\n            })]);\n\n    const yScale = d3.scaleBand()\n            .range([height-chart_margin.top-chart_margin.bottom, 0])\n            .domain(data.map((d) => d.label))\n            .padding(0.6)\n\n    const node = document.createElement('div')\n    \n    const calculateOpacity = (d) => {\n        if(filterRx && d.label.match(filterRx)){\n            return 0.2\n        } else{\n            return 1\n        }\n    }\n\n    d3.select(node)\n        .append('svg')\n        .attr(\"class\", clsName)\n        .attr(\"width\", width + margin.left + margin.right)      \n        .attr(\"height\", height + margin.top + margin.bottom)                                                         \n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    const display = () => {\n        // //create bar chart\n        const bar = d3.select(selector)\n            .append('g')\n            .attr(\"class\", \"bar\")    \n            .selectAll(\"rect\")\n            .data(data)\n            .enter()\n            .append(\"rect\")\n            .attr(\"width\", 0)\n            .attr(\"y\", (d) => yScale(d.label))\n            .attr(\"height\", yScale.bandwidth())\n            .attr(\"transform\", \"translate(\"+chart_margin.left+\",\" + chart_margin.top + \")\")\n\n        bar\n            .transition()\n            .delay(1000)\n            .duration(1000)\n            .attr(\"fill\", globalConfig.highligthColors[1])\n            .attr(\"width\", function(d) {return xScale(d.value)})\n            .style(\"opacity\", calculateOpacity)\n\n        d3.select(selector)\n            .append(\"g\")\n            .attr(\"class\", \"label\")\n            .selectAll(\"text\")\n            .data(data)\n            .enter()\n            .append(\"text\")\n            .attr(\"y\", (d) => yScale(d.label) - 5)\n            .text((d) => `${d.label} ${utils.numFormatFloat(d.value).replace(\".00\",\"\")}`)\n            .style(\"font-size\", utils.isMobile() ? \"8px\" : \"14px\")\n            .attr(\"transform\", \"translate(\"+chart_margin.left+\",\" + chart_margin.top + \")\")\n            .style(\"opacity\", calculateOpacity)\n    }\n\n    const reset = () => {\n        d3.select(selector)\n            .selectAll(\"g\")\n            .transition()\n            .style(\"opacity\", 0)\n            .remove()\n    }\n\n    return {node, display, reset}\n}\n\nexport default BarChart","import React, {useEffect, useState} from \"react\"\n\nimport rd3 from 'react-d3-library'\n\nimport BarChart from \"../../d3-components/barchart\"\nimport methodProfiles from \"../../data/procurement_methods_stats\"\nimport { DESKTOP_MIN_WIDTH, media } from \"../../shared/style\"\n\nconst RD3Component = rd3.Component\n\nconst sortAttribute = a => a.totalProjectValue\n\nconst sortedMethods = methodProfiles.sort((a, b) => {\n    return sortAttribute(b) - sortAttribute(a)\n  })\n  .reverse()\n  .map(a => {\n    return {\n      ...a,\n      totalProjectValueInMillion: a['totalProjectValue'] / 1e6\n    }\n  })\n\nconst MethodRanking = () => {\n    const [valueKey, setValueKey] = useState('totalProjectValueInMillion')\n\n    const [viz, setViz] = useState({})\n\n    useEffect(()=> {\n      const data = sortedMethods.map( a => {\n        return {\n          label: `${a.purchase_method_name}`,\n          value: a[valueKey]\n        }\n      })\n\n      const obj = BarChart({\n        name: 'method-ranking',\n        data,\n      })\n\n      if(viz && viz.reset){\n        viz.reset()\n      }\n\n      setViz(obj)\n    }, [valueKey])\n\n    useEffect( () => {\n      if(viz && viz.display){\n        viz.display()\n      }\n    }, [viz])\n\n    return <div>\n      <div style={{marginTop: \"0rem\"}}>\n        <div css={{\n          textAlign: \"center\",\n          fontSize: \"11px\",\n          [media(DESKTOP_MIN_WIDTH)] : {\n            textAlign: \"right\",\n          }\n        }}>หน่วย: <select\n            style={{\n                border: \"0px\",\n                background: \"#eee\",\n            }}\n            value={valueKey}\n            onChange={(e) => {\n              setValueKey(e.target.value)\n            }}\n          >\n            <option value=\"totalProjects\">จำนวนโครงการทั้งหมด</option>\n            <option value=\"totalProjectValueInMillion\">มูลค่าโครงการรวม​ (ล้านบาท)</option>\n          </select>\n        </div>\n        <RD3Component data={viz.node}/>\n      </div>\n    </div>\n}\n\nexport default MethodRanking","import * as d3 from \"d3\"\nimport {globalConfig} from \"../constant\"\nimport utils from \"../utils\"\n\nconst BarChart2Layer = ({name, data, filterRx}) => {\n    const width = utils.getWidth()\n    const height = 35 * data.length\n\n    const clsName = name\n    const selector = `svg.${clsName}`\n\n    const margin = { top: 10, left: 20, bottom: 10, right: 20}\n    const chart_margin = {top: 0, left:5, bottom:10, right: 15}\n\n    const xScale = d3.scaleLinear()\n            .range([0, width-chart_margin.left-chart_margin.right])\n            .domain([0, d3.max(data, (d) => {\n                return d.value\n            })]);\n\n    const yScale = d3.scaleBand()\n            .range([height-chart_margin.top-chart_margin.bottom, 0])\n            .domain(data.map((d) => d.label))\n            .padding(0.6)\n\n    const node = document.createElement('div')\n    \n    const calculateOpacity = (d) => {\n        if(filterRx && d.label.match(filterRx)){\n            return 0.2\n        } else{\n            return 1\n        }\n    }\n\n    d3.select(node)\n        .append('svg')\n        .attr(\"class\", clsName)\n        .attr(\"width\", width + margin.left + margin.right)      \n        .attr(\"height\", height + margin.top + margin.bottom)                                                         \n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    const display = () => {\n        // //create bar chart\n        const bar = d3.select(selector)\n            .append('g')\n            .attr(\"class\", \"bar\")    \n            .selectAll(\"rect\")\n            .data(data)\n            .enter()\n            .append(\"rect\")\n            .attr(\"width\", 0)\n            .attr(\"y\", (d) => yScale(d.label))\n            .attr(\"height\", yScale.bandwidth())\n            .attr(\"transform\", \"translate(\"+chart_margin.left+\",\" + chart_margin.top + \")\")\n\n        bar\n            .transition()\n            .delay(1000)\n            .duration(1000)\n            .attr(\"fill\", \"#FFF\")\n            .attr(\"stroke-width\", \"2px\")\n            .attr(\"stroke\", globalConfig.highligthColors[1])\n            .attr(\"width\", function(d) {return xScale(d.value)})\n            .style(\"opacity\", calculateOpacity)\n\n        const bar2 = d3.select(selector)\n            .append('g')\n            .attr(\"class\", \"bar\")    \n            .selectAll(\"rect\")\n            .data(data)\n            .enter()\n            .append(\"rect\")\n            .attr(\"width\", 0)\n            .attr(\"y\", (d) => yScale(d.label))\n            .attr(\"height\", yScale.bandwidth())\n            .attr(\"transform\", \"translate(\"+chart_margin.left+\",\" + chart_margin.top + \")\")\n\n        bar2\n            .transition()\n            .delay(1200)\n            .duration(1000)\n            .attr(\"fill\", globalConfig.highligthColors[1])\n            .attr(\"width\", function(d) {return xScale(d.value2)})\n            .style(\"opacity\", calculateOpacity)\n\n        d3.select(selector)\n            .append(\"g\")\n            .attr(\"class\", \"label\")\n            .selectAll(\"text\")\n            .data(data)\n            .enter()\n            .append(\"text\")\n            .attr(\"y\", (d) => yScale(d.label) - 5)\n            .text((d) => `${d.label} ${utils.numFormatFloat(d.value).replace(\".00\",\"\")}`)\n            .style(\"font-size\", utils.isMobile() ? \"8px\" : \"14px\")\n            .attr(\"transform\", \"translate(\"+chart_margin.left+\",\" + chart_margin.top + \")\")\n            .style(\"opacity\", calculateOpacity)\n    }\n\n    const reset = () => {\n        d3.select(selector)\n            .selectAll(\"g\")\n            .transition()\n            .style(\"opacity\", 0)\n            .remove()\n    }\n\n    return {node, display, reset}\n}\n\nexport default BarChart2Layer","import React, {useEffect, useState} from \"react\"\n\nimport rd3 from 'react-d3-library'\nimport utils from \"../../utils\"\nimport BarChart2Layer from \"../../d3-components/barchart-2layer\"\nimport companyProjectProfiles from \"../../data/company_stats\"\nimport { DESKTOP_MIN_WIDTH, media } from \"../../shared/style\"\n\nimport { dairyCompanyFilter } from \"../../shared/variables\"\n\nconst RD3Component = rd3.Component\n\nconst methodSortKey = 'เฉพาะเจาะจง'\n\nconst sortAttribute = a => {\n  if(!a.methodStats[methodSortKey]){\n    return 0\n  } else{\n    return a.methodStats[methodSortKey].count\n  }\n}\n\n\nconst sortedCompany = companyProjectProfiles.sort((a, b) => {\n    return sortAttribute(b) - sortAttribute(a)\n  })\n  .map(a => {\n    return {\n      ...a,\n      totalProjectValueInMillion: a['totalProjectValue'] / 1e6\n    }\n  })\n\nconst CompanyRanking = () => {\n    const [valueKey, setValueKey] = useState('totalProjects')\n    const [filterDairyCompanies, setFilterDairyComparies] = useState(false)\n\n\n    const [viz, setViz] = useState({})\n\n    useEffect(()=> {\n      const ak = valueKey === \"totalProjectValueInMillion\" ? `value` : `count`\n      const normalizer = valueKey === \"totalProjectValueInMillion\" ? 1e6 : 1\n\n      const data = sortedCompany\n      .filter(a => !(a.corporate_name.match(dairyCompanyFilter) && filterDairyCompanies))\n      .slice(0, 20)\n      .map( a => {\n        return {\n          label: `${a.corporate_name} (เฉพาะเจาะจง: ${utils.numFormatFloat(a.methodStats['เฉพาะเจาะจง'][ak]/normalizer).replace(\".00\", \"\")})`,\n          value: a[valueKey],\n          value2: a.methodStats['เฉพาะเจาะจง'][ak]/normalizer\n        }\n      })\n      .reverse()\n\n      const obj = BarChart2Layer({\n        name: 'company-ranking',\n        data,\n        filterRx: dairyCompanyFilter\n      })\n\n      if(viz && viz.reset){\n        viz.reset()\n      }\n\n      setViz(obj)\n    }, [valueKey, filterDairyCompanies])\n\n    useEffect( () => {\n      if(viz && viz.display){\n        viz.display()\n      }\n    }, [viz])\n\n    return <div>\n      <div style={{marginTop: \"0rem\"}}>\n        <div css={{\n          textAlign: \"center\",\n          fontSize: \"11px\",\n          [media(DESKTOP_MIN_WIDTH)] : {\n            textAlign: \"right\",\n          }\n        }}>\n          <div css={{\n            fontWeight: \"bold\",\n            [media(DESKTOP_MIN_WIDTH)] : {\n              float: \"left\"\n            }\n          }}>\n            เรียงตามจำนวนโครงการจัดซื้อจัดจ้างแบบเฉพาะเจาะจง\n          </div>\n          หน่วย: <select\n            style={{\n                border: \"0px\",\n                background: \"#eee\",\n            }}\n            value={valueKey}\n            onChange={(e) => {\n              console.log(e.target.value)\n              setValueKey(e.target.value)\n            }}\n          >\n            <option value=\"totalProjects\">จำนวนโครงการทั้งหมด</option>\n            <option value=\"totalProjectValueInMillion\">มูลค่าโครงการรวม​ (ล้านบาท)</option>\n          </select>\n          <div css={{\n            textAlign: \"center\",\n            [media(DESKTOP_MIN_WIDTH)] : {\n              textAlign: \"left\",\n            }\n          }}>\n            <input\n              type=\"checkbox\" defaultChecked={!filterDairyCompanies}\n              onChange={() => {\n                setFilterDairyComparies(!filterDairyCompanies)\n              }}\n            />{` `}รวมข้อมูลของนิติบุคคลที่เกี่ยวกับด้านผลิตภัณฑ์นม\n          </div>\n        </div>\n        <RD3Component data={viz.node}/>\n      </div>\n    </div>\n}\n\nexport default CompanyRanking","import React, {useEffect, useState} from \"react\"\n\nimport rd3 from 'react-d3-library'\n\nimport BarChart2Layer from \"../../d3-components/barchart-2layer\"\nimport authorityProfiles from \"../../data/local_authority_stats\"\nimport { DESKTOP_MIN_WIDTH, media } from \"../../shared/style\"\nimport utils from \"../../utils\"\n\nconst RD3Component = rd3.Component\n\nconst methodSortKey = 'เฉพาะเจาะจง'\n\n\nconst sortAttribute = a => {\n  if(!a.methodStats[methodSortKey]){\n    return 0\n  } else{\n    return a.methodStats[methodSortKey].count\n  }\n}\n\nconst sortedCompany = authorityProfiles.sort((a, b) => {\n    return sortAttribute(b) - sortAttribute(a)\n  })\n  .reverse()\n  .slice(0, 10)\n  .map(a => {\n    return {\n      ...a,\n      totalProjectValueInMillion: a['totalProjectValue'] / 1e6\n    }\n  })\n\nconst AuthorityRanking = () => {\n    const [valueKey, setValueKey] = useState('totalProjects')\n\n    const [viz, setViz] = useState({})\n\n    useEffect(()=> {\n      const ak = valueKey === \"totalProjectValueInMillion\" ? `value` : `count`\n      const normalizer = valueKey === \"totalProjectValueInMillion\" ? 1e6 : 1\n\n      const data = sortedCompany.map( a => {\n        return {\n          label: `${a.dept_name}, ${a.province} (เฉพาะเจาะจง: ${utils.numFormatFloat(a.methodStats['เฉพาะเจาะจง'][ak]/normalizer).replace(\".00\", \"\")})`,\n          value: a[valueKey],\n          value2: a.methodStats['เฉพาะเจาะจง'][ak]/normalizer,\n        }\n      })\n\n      const obj = BarChart2Layer({\n        name: 'authority-ranking',\n        data,\n      })\n\n      if(viz && viz.reset){\n        viz.reset()\n      }\n\n      setViz(obj)\n    }, [valueKey])\n\n    useEffect( () => {\n      if(viz && viz.display){\n        viz.display()\n      }\n    }, [viz])\n\n    return <div>\n      <div style={{marginTop: \"0rem\"}}>\n        <div css={{\n          textAlign: \"center\",\n          fontSize: \"11px\",\n          [media(DESKTOP_MIN_WIDTH)] : {\n            textAlign: \"right\",\n          }\n        }}>\n           <div css={{\n            fontWeight: \"bold\",\n            [media(DESKTOP_MIN_WIDTH)] : {\n              float: \"left\"\n            }\n          }}>\n            เรียงตามจำนวนโครงการจัดซื้อจัดจ้างแบบเฉพาะเจาะจง\n          </div>\n          หน่วย: <select\n            style={{\n                border: \"0px\",\n                background: \"#eee\",\n            }}\n            value={valueKey}\n            onChange={(e) => {\n              setValueKey(e.target.value)\n            }}\n          >\n            <option value=\"totalProjects\">จำนวนโครงการทั้งหมด</option>\n            <option value=\"totalProjectValueInMillion\">มูลค่าโครงการรวม​ (ล้านบาท)</option>\n          </select>\n        </div>\n        <RD3Component data={viz.node}/>\n      </div>\n    </div>\n}\n\nexport default AuthorityRanking","import React from \"react\"\n\nimport * as variables from \"../shared/variables\"\n\nimport Placeholder from \"../components/placeholder\"\nimport CompanyInfo from \"../components/vis/company-info\"\nimport CreditPage from \"./credit\"\nimport CompanyDistribution from \"../components/vis/comparny-distribution\"\nimport MethodProfile from \"../components/vis/method-ranking\"\nimport CompanyRanking from \"../components/vis/company-ranking\"\nimport AuthorityRanking from \"../components/vis/autority-ranking\"\nimport ExternalLink from \"../components/external-link\"\nimport TextBox from \"../components/textbox\"\n\nimport utils from \"../utils\"\nimport { Link } from \"gatsby\"\nimport SEO from \"../components/seo\"\n\nrequire('typeface-kanit')\n\nconst Index = () => {\n    return <div\n            css={{\n                padding: \"10px\"\n            }}\n        >\n            <SEO title=\"หน้าแรก\"/>\n            <TextBox>\n                <h1\n                    css={{\n                        paddingTop: \"20vh\",\n                    }}\n                >{variables.header}</h1>\n                <div css={{fontSize: \"0.8em\"}}>\n                    <b>เขียนโดย: </b>{variables.teamMembers.join(', ')}\n                    <div css={{marginTop: \"5px\"}}>\n                        <b>วันที่: </b>{variables.date}\n                    </div>\n                    <b>หมายเหตุ: </b>1) {variables.content.remark}{\n                        utils.isMobile() && <span>\n                            ; 2) การแสดงผลบางส่วนอาจไม่สมบูรณ์บนจอขนาดเล็ก\n                        </span>\n                    }\n                </div>\n            </TextBox>\n            <br/>\n            <TextBox name=\"intro\">{variables.content.section1}</TextBox>\n            <TextBox name=\"รายละเอียดงบประมาณ อปท.\">{variables.content.section2}</TextBox>\n            <TextBox>\n                <img width=\"100%\" src=\"figures/total-project-value-summary.png\"/>\n            </TextBox>\n            <TextBox name=\"รูปแบบการจัดซื้อจัดจ้าง\">{variables.content.section3}</TextBox>\n            <TextBox>\n                <MethodProfile/>\n            </TextBox>\n            <TextBox name=\"บทสัมภาษณ์\"> {variables.content.section5}</TextBox>\n            <TextBox name=\"อปท. เจาะจงมากสุด 5 แห่ง\">{variables.content.section6}</TextBox>\n            <TextBox>\n                <AuthorityRanking/>\n            </TextBox>\n            <TextBox name=\"บริษัท ที่เจาะมากสุด 5 แห่ง\">{variables.content.section7}</TextBox>\n            <TextBox>\n                <CompanyRanking/>\n            </TextBox>\n            <TextBox name=\"การกระจายตัวของบริษัทในแต่ละภูมิภาค\">{variables.content.section8}</TextBox>\n            <TextBox name=\"การกระจายตัวของบริษัทในแต่ละภูมิภาค\">{variables.content.section82}</TextBox>\n            <TextBox>\n                <CompanyDistribution/>\n            </TextBox>\n            <TextBox name=\"ลองสุ่มดูบริษัทอื่นๆ ที่มี รายได้มากกว่า 100 บาท\"> {variables.content.sectonCompanyProfile}</TextBox>\n            <TextBox>\n                <CompanyInfo/>\n            </TextBox>\n            <TextBox name=\"บทสรุป\">\n                {variables.content.sectionConclusion}\n            </TextBox>\n            <TextBox>\n                <br/>\n                <b>เนื้อหาเพิ่มเติม</b>\n                <ol>\n                    <li>\n                        <ExternalLink name=\"ชุดข้อมูลโครงการจัดซื้อจ้างของอปท. ที่ใช้ในการวิเคราะห์\" url=\"https://github.com/codeforthailand/2019-local-administrative-budget-and-projects#ชุดข้อมูล\"/>\n                    </li>\n                    <li>\n                        <Link  css={{color: \"black\" }} to=\"/reflection-on-our-open-data\">\n                            อุปสรรคในการทำงานและการเข้าถึง “ข้อมูลเปิดภาครัฐ” (Open Government Data)\n                        </Link>\n                    </li>\n                    <li>\n                        <Link  css={{color: \"black\" }} to=\"/interview\">\n                            บทสัมภาษณ์ พิศิษฐ์ ลีลาวชิโรภาส เกี่ยวกับรูปแบบและการตรวจสอบการจัดซื้อจัดจ้างภาครัฐ\n                        </Link>\n                    </li>\n                </ol>\n                <div>\n                </div>\n                <CreditPage/>\n            </TextBox>\n        </div>\n}\n\nexport default Index"],"sourceRoot":""}